(self.webpackChunkpublic_bus_project=self.webpackChunkpublic_bus_project||[]).push([[821],{9821:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DriverModule:()=>fe});var n=i(1116),a=i(3337),s=i(5366),o=i(2590);let r=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){const i=this.authService.getIsAuth();let n=!1;return"driver"===this.authService.getAppUser()&&(n=!0),console.log(`Inside driver guard :${i}, ${n}`),i&&n||this.router.navigate(["/signin"]),i&&n}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.e),s.LFG(a.F0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=i(4195),c=i(168),h=i(7307);const d=function(e){return[e]};function u(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",5),s.TgZ(1,"a",6),s.NdJ("click",function(){return s.CHM(e),s.oxw(),s.MAs(4).toggle()}),s.TgZ(2,"mat-icon",7),s._uU(3),s.qZA(),s._uU(4),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(1),s.Q6J("routerLink",s.VKq(3,d,e.route)),s.xp6(2),s.Oqu(e.icon),s.xp6(1),s.hij("",e.content," ")}}let m=(()=>{class e{constructor(e){this.authService=e,this.userIsAuthenticated=!1,this.sideNavContent=[{icon:"room",content:"GPS",route:"sendgps"}]}ngOnInit(){this.userIsAuthenticated=this.authService.getIsAuth(),this.authListenerSubs=this.authService.getAuthListener().subscribe(e=>{this.userIsAuthenticated=e},e=>{console.log(e)})}onLogOut(e){this.authService.logout()}ngOnDestroy(){this.authListenerSubs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.e))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-driver"]],decls:8,vars:4,consts:[[3,"isMenuVisible","sideNav","userIsAuthenticated","onLogOut"],[1,"container"],["closed","","mode","over"],["matSidenav",""],["class","sidenavItems",4,"ngFor","ngForOf"],[1,"sidenavItems"],[3,"routerLink","click"],[2,"transform","translateY(5px)"]],template:function(e,t){if(1&e&&(s.TgZ(0,"app-navbar",0),s.NdJ("onLogOut",function(e){return t.onLogOut(e)}),s.qZA(),s.TgZ(1,"div",1),s.TgZ(2,"mat-sidenav-container"),s.TgZ(3,"mat-sidenav",2,3),s.YNc(5,u,5,5,"div",4),s.qZA(),s.TgZ(6,"mat-sidenav-content"),s._UZ(7,"router-outlet"),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.MAs(4);s.Q6J("isMenuVisible",!0)("sideNav",e)("userIsAuthenticated",t.userIsAuthenticated),s.xp6(5),s.Q6J("ngForOf",t.sideNavContent)}},directives:[l.S,c.TM,c.JX,n.sg,c.Rh,a.lC,a.yS,h.Hw],styles:["mat-sidenav-container[_ngcontent-%COMP%]{transform:translateY(50px)}.mat-drawer-inner-container[_ngcontent-%COMP%]{overflow:hidden!important}mat-sidenav[_ngcontent-%COMP%]{background-color:#000;padding:50px 0 0 1%;width:15%;height:98vh}mat-sidenav-content[_ngcontent-%COMP%]{height:92vh}.sidenavItems[_ngcontent-%COMP%]{padding:5px;border-bottom:.5px solid #9b9b9b4d;text-align:center}mat-icon[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]{color:#fff;font-weight:400}@media only screen and (max-width:768px){mat-sidenav[_ngcontent-%COMP%]{width:30%}}"]}),e})();var g=i(5333),p=i(2151),f=i(7064),b=i(4546),v=i(9713),_=i(3169),k=i(4720),y=i(5959),C=i(1906),Z=i(878),A=i(9235),x=i(3835),S=i(611),T=i(7388);function w(e,t){}const q=new s.OlP("MatBottomSheetData");class I{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const P={bottomSheetState:(0,v.X$)("state",[(0,v.SB)("void, hidden",(0,v.oB)({transform:"translateY(100%)"})),(0,v.SB)("visible",(0,v.oB)({transform:"translateY(0%)"})),(0,v.eR)("visible => void, visible => hidden",(0,v.jt)(`${f.mZ.COMPLEX} ${f.yN.ACCELERATION_CURVE}`)),(0,v.eR)("void => visible",(0,v.jt)(`${f.mZ.EXITING} ${f.yN.DECELERATION_CURVE}`))])};let O=(()=>{class e extends p.en{constructor(e,t,i,n,a,o){super(),this._elementRef=e,this._changeDetectorRef=t,this._focusTrapFactory=i,this.bottomSheetConfig=o,this._animationState="void",this._animationStateChanged=new s.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=e=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(e)),this._document=a,this._breakpointSubscription=n.observe([b.u3.Medium,b.u3.Large,b.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",n.isMatched(b.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",n.isMatched(b.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",n.isMatched(b.u3.XLarge))})}attachComponentPortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"hidden"===e.toState?this._restoreFocus():"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_toggleClass(e,t){const i=this._elementRef.nativeElement.classList;t?i.add(e):i.remove(e)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){const e=this._elementRef.nativeElement,t=this.bottomSheetConfig.panelClass;Array.isArray(t)?t.forEach(t=>e.classList.add(t)):t&&e.classList.add(t)}_trapFocus(){const e=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const t=(0,_.ht)();t===e||e.contains(t)||e.focus()}}_restoreFocus(){const e=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&e&&"function"==typeof e.focus){const t=(0,_.ht)(),i=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==i&&!i.contains(t)||e.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,_.ht)(),this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(T.qV),s.Y36(b.Yg),s.Y36(n.K0,8),s.Y36(I))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(e,t){if(1&e&&s.Gf(p.Pl,7),2&e){let e;s.iGM(e=s.CRH())&&(t._portalOutlet=e.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(e,t){1&e&&s.WFA("@state.start",function(e){return t._onAnimationStart(e)})("@state.done",function(e){return t._onAnimationDone(e)}),2&e&&(s.uIk("aria-label",null==t.bottomSheetConfig?null:t.bottomSheetConfig.ariaLabel),s.d8E("@state",t._animationState))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&s.YNc(0,w,0,0,"ng-template",0)},directives:[p.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[P.bottomSheetState]}}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[g.U8,f.BQ,p.eL],f.BQ]}),e})();class L{constructor(e,t){this._overlayRef=t,this._afterDismissed=new y.xQ,this._afterOpened=new y.xQ,this.containerInstance=e,this.disableClose=e.bottomSheetConfig.disableClose,e._animationStateChanged.pipe((0,x.h)(e=>"done"===e.phaseName&&"visible"===e.toState),(0,S.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,x.h)(e=>"done"===e.phaseName&&"hidden"===e.toState),(0,S.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),t.dispose()}),t.detachments().pipe((0,S.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,C.T)(t.backdropClick(),t.keydownEvents().pipe((0,x.h)(e=>e.keyCode===A.hY))).subscribe(e=>{this.disableClose||"keydown"===e.type&&(0,A.Vb)(e)||(e.preventDefault(),this.dismiss())})}dismiss(e){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,x.h)(e=>"start"===e.phaseName),(0,S.q)(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const B=new s.OlP("mat-bottom-sheet-default-options");let M=(()=>{class e{constructor(e,t,i,n){this._overlay=e,this._injector=t,this._parentBottomSheet=i,this._defaultOptions=n,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}open(e,t){const i=function(e,t){return Object.assign(Object.assign({},e),t)}(this._defaultOptions||new I,t),n=this._createOverlay(i),a=this._attachContainer(n,i),o=new L(a,n);if(e instanceof s.Rgc)a.attachTemplatePortal(new p.UE(e,null,{$implicit:i.data,bottomSheetRef:o}));else{const t=new p.C5(e,void 0,this._createInjector(i,o)),n=a.attachComponentPortal(t);o.instance=n.instance}return o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(e,t){const i=s.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:t}]}),n=new p.C5(O,t.viewContainerRef,i);return e.attach(n).instance}_createOverlay(e){const t=new g.X_({direction:e.direction,hasBackdrop:e.hasBackdrop,disposeOnNavigation:e.closeOnNavigation,maxWidth:"100%",scrollStrategy:e.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return e.backdropClass&&(t.backdropClass=e.backdropClass),this._overlay.create(t)}_createInjector(e,t){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,n=[{provide:L,useValue:t},{provide:q,useValue:e.data}];return!e.direction||i&&i.get(k.Is,null,s.XFs.Optional)||n.push({provide:k.Is,useValue:{value:e.direction,change:(0,Z.of)()}}),s.zs3.create({parent:i||this._injector,providers:n})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(g.aV),s.LFG(s.zs3),s.LFG(e,12),s.LFG(B,8))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(g.aV),s.LFG(s.gxx),s.LFG(e,12),s.LFG(B,8))},token:e,providedIn:R}),e})();var E=i(5078);let F=(()=>{class e{constructor(e){this._bottomSheetRef=e}ngOnInit(){}openLink(e){this._bottomSheetRef.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(L))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-phone"]],decls:29,vars:0,consts:[[1,"wrapper"],["href","tel:4223807","mat-list-item","",3,"click"],["mat-line",""],["href","tel:4412404","mat-list-item","",3,"click"],["href","tel:100","mat-list-item","",3,"click"],["href","tel:9851283032","mat-list-item","",3,"click"],["href","tel:101","mat-list-item","",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"mat-nav-list"),s.TgZ(1,"div",0),s.TgZ(2,"h2"),s._uU(3,"Hospital"),s.qZA(),s.TgZ(4,"a",1),s.NdJ("click",function(e){return t.openLink(e)}),s.TgZ(5,"span",2),s._uU(6,"Bir Hospital"),s.qZA(),s.TgZ(7,"span",2),s._uU(8,"4223807"),s.qZA(),s.qZA(),s.TgZ(9,"a",3),s.NdJ("click",function(e){return t.openLink(e)}),s.TgZ(10,"span",2),s._uU(11,"TU Teaching Hospital"),s.qZA(),s.TgZ(12,"span",2),s._uU(13,"4412404"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"div",0),s.TgZ(15,"h2"),s._uU(16,"Police"),s.qZA(),s.TgZ(17,"a",4),s.NdJ("click",function(e){return t.openLink(e)}),s.TgZ(18,"span",2),s._uU(19,"100"),s.qZA(),s.qZA(),s.TgZ(20,"a",5),s.NdJ("click",function(e){return t.openLink(e)}),s.TgZ(21,"span",2),s._uU(22,"9851283032"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(23,"div",0),s.TgZ(24,"h2"),s._uU(25,"Fire Fighters"),s.qZA(),s.TgZ(26,"a",6),s.NdJ("click",function(e){return t.openLink(e)}),s.TgZ(27,"span",2),s._uU(28,"101"),s.qZA(),s.qZA(),s.qZA(),s.qZA())},directives:[E.Hk,E.Tg,f.X2],styles:[".wrapper[_ngcontent-%COMP%]{padding:.5rem}"]}),e})();var U=i(1041),D=i(8857),N=i(901),G=i(2797),J=i(7853),j=i(9861),Y=i(6136);const Q=["thumbContainer"],V=["toggleBar"],H=["input"],X=function(e){return{enterDuration:e}},z=["*"],$=new s.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let W=0;const K={provide:U.JU,useExisting:(0,s.Gpc)(()=>ie),multi:!0};class ee{constructor(e,t){this.source=e,this.checked=t}}const te=(0,f.sb)((0,f.pj)((0,f.Kr)((0,f.Id)(class{constructor(e){this._elementRef=e}}))));let ie=(()=>{class e extends te{constructor(e,t,i,n,a,o){super(e),this._focusMonitor=t,this._changeDetectorRef=i,this.defaults=a,this._onChange=e=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++W,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new s.vpe,this.toggleChange=new s.vpe,this.tabIndex=parseInt(n)||0,this.color=this.defaultColor=a.color||"accent",this._noopAnimations="NoopAnimations"===o}get required(){return this._required}set required(e){this._required=(0,j.Ig)(e)}get checked(){return this._checked}set checked(e){this._checked=(0,j.Ig)(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new ee(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(T.tE),s.Y36(s.sBO),s.$8M("tabindex"),s.Y36($),s.Y36(Y.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){if(1&e&&(s.Gf(Q,5),s.Gf(V,5),s.Gf(H,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._thumbEl=e.first),s.iGM(e=s.CRH())&&(t._thumbBarEl=e.first),s.iGM(e=s.CRH())&&(t._inputElement=e.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(s.Ikx("id",t.id),s.uIk("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),s.ekj("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable",t._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked",ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[s._Bn([K]),s.qOj],ngContentSelectors:z,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1),s.TgZ(2,"div",2,3),s.TgZ(4,"input",4,5),s.NdJ("change",function(e){return t._onChangeEvent(e)})("click",function(e){return t._onInputClick(e)}),s.qZA(),s.TgZ(6,"div",6,7),s._UZ(8,"div",8),s.TgZ(9,"div",9),s._UZ(10,"div",10),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"span",11,12),s.NdJ("cdkObserveContent",function(){return t._onLabelTextChange()}),s.TgZ(13,"span",13),s._uU(14,"\xa0"),s.qZA(),s.Hsn(15),s.qZA(),s.qZA()),2&e){const e=s.MAs(1),i=s.MAs(12);s.uIk("for",t.inputId),s.xp6(2),s.ekj("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),s.xp6(2),s.Q6J("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),s.uIk("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),s.xp6(5),s.Q6J("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",s.VKq(18,X,t._noopAnimations?0:150))}},directives:[f.wG,J.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e})(),ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})(),ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[ne,f.si,f.BQ,J.Q8],ne,f.BQ]}),e})();var se=i(6278),oe=i(3070),re=i(9550),le=i(4369);const ce=function(){return{"margin-top":"1rem"}};function he(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",14),s.TgZ(1,"ul"),s.TgZ(2,"li"),s._uU(3),s.qZA(),s.TgZ(4,"li"),s._uU(5),s.qZA(),s.TgZ(6,"li"),s._uU(7),s.qZA(),s.TgZ(8,"li"),s._uU(9),s.qZA(),s.TgZ(10,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().changeVerificationCheck()}),s._uU(11,"Okay"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("ngStyle",s.DdM(6,ce)),s.xp6(3),s.hij(" Name: ",e.verificationData.name," "),s.xp6(2),s.hij(" Mobile No.: ",e.verificationData.phone," "),s.xp6(2),s.hij(" Amount: ",e.verificationData.amount," "),s.xp6(2),s.hij(" Paid To: ",e.verificationData.mobile," "),s.xp6(1),s.Q6J("ngStyle",s.DdM(7,ce))}}function de(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"span"),s._uU(2,"Transaction not found in database"),s.qZA(),s._UZ(3,"br"),s.TgZ(4,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().changedupverificationCheck()}),s._uU(5,"Okay"),s.qZA(),s.qZA()}2&e&&(s.xp6(4),s.Q6J("ngStyle",s.DdM(1,ce)))}const ue=[{path:"",component:m,canActivate:[r],children:[{path:"sendgps",component:(()=>{class e{constructor(e,t,i,n){this.transferGpsService=e,this.authService=t,this.matBottomSheet=i,this.paymentService=n,this.checkGPSAvailability=!1,this.checkWakeLockAvailability=!1,this.busType="",this.name="",this.id="",this.userIsAuthenticated=!1,this.userId=null,this.verificationCheck=!1,this.dupverificationCheck=!0}ngOnInit(){this.pidxPaymentForm=new U.cw({txnId:new U.NI(null,{validators:U.kI.required})}),this.checkWakeLockAvailability=this.transferGpsService.checkWakeLock(),this.checkGPSAvailability=this.transferGpsService.checkGPS(),this.userIsAuthenticated=this.authService.getIsAuth(),this.userId=this.authService.getAppUserId(),this.authListenerSubs=this.authService.getAuthListener().subscribe(e=>{this.userIsAuthenticated=e,this.userId=this.authService.getAppUserId()},e=>{console.log(e)}),this.checkGPSAvailability&&(this.name=this.transferGpsService.getName(),this.busType=this.transferGpsService.getBusType(),this.id=this.userId,this.name&&this.busType&&this.id?this.transferGpsService.sendNewDriver({name:this.name,busType:this.busType,id:this.id}):alert("Name or BusType or Id is missing!!"))}wakeLockChanged(e,t){e.checked?this.transferGpsService.acquireLock(t):this.transferGpsService.releaseLock()}gpsChanged(e,t){console.log(e),e.checked?this.transferGpsService.sendGPS(t):this.transferGpsService.noGPS()}onBottomSheetClicked(){this.matBottomSheet.open(F)}verifyPayment(){this.value$=this.paymentService.verifyPaymentDriver(this.pidxPaymentForm.value.txnId),this.valueSub=this.value$.subscribe(e=>{this.verificationCheck=e.verification,this.dupverificationCheck=e.verification,this.verificationCheck&&(this.verificationData=Object.assign({},e.data[0])),console.log(e)})}changeVerificationCheck(){this.verificationCheck=!this.verificationCheck}changedupverificationCheck(){this.dupverificationCheck=!this.dupverificationCheck}ngOnDestroy(){this.authListenerSubs.unsubscribe(),this.valueSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(D.D),s.Y36(o.e),s.Y36(M),s.Y36(N.t))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-send-gps"]],decls:30,vars:6,consts:[[1,"container"],["id","firstCard"],[3,"disabled","change"],["wakeLockToggle",""],["gpsToggle",""],["id","secondCard"],[1,"payment-verify"],[3,"formGroup"],["placeholder","Enter transaction Id","matInput","","formControlName","txnId"],["type","button","id","checkButton","mat-stroked-button","","color","primary",3,"disabled","click"],["class","varification-info",3,"ngStyle",4,"ngIf"],[4,"ngIf"],[1,"buttonContainer"],["mat-fab","","color","primary","aria-label","Example icon button with a delete icon",3,"click"],[1,"varification-info",3,"ngStyle"],["type","button","mat-stroked-button","","color","primary",3,"ngStyle","click"]],template:function(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"mat-card",1),s.TgZ(2,"div"),s.TgZ(3,"span"),s._uU(4,"Enable Wake Lock"),s.qZA(),s.TgZ(5,"mat-slide-toggle",2,3),s.NdJ("change",function(i){s.CHM(e);const n=s.MAs(6);return t.wakeLockChanged(i,n)}),s.qZA(),s.qZA(),s._UZ(7,"mat-divider"),s.TgZ(8,"div"),s.TgZ(9,"span"),s._uU(10,"Enable GPS"),s.qZA(),s.TgZ(11,"mat-slide-toggle",2,4),s.NdJ("change",function(i){s.CHM(e);const n=s.MAs(12);return t.gpsChanged(i,n)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"mat-card",5),s.TgZ(14,"div",6),s.TgZ(15,"span"),s._uU(16,"Verify Payment"),s.qZA(),s._UZ(17,"br"),s._UZ(18,"br"),s.TgZ(19,"form",7),s.TgZ(20,"mat-form-field"),s._UZ(21,"input",8),s.qZA(),s.TgZ(22,"button",9),s.NdJ("click",function(){return t.verifyPayment()}),s._uU(23,"Check"),s.qZA(),s.qZA(),s.YNc(24,he,12,8,"div",10),s.YNc(25,de,6,2,"div",11),s.qZA(),s.qZA(),s.TgZ(26,"div",12),s.TgZ(27,"button",13),s.NdJ("click",function(){return t.onBottomSheetClicked()}),s.TgZ(28,"mat-icon"),s._uU(29,"phone"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}2&e&&(s.xp6(5),s.Q6J("disabled",!t.checkWakeLockAvailability),s.xp6(6),s.Q6J("disabled",!t.checkGPSAvailability),s.xp6(8),s.Q6J("formGroup",t.pidxPaymentForm),s.xp6(3),s.Q6J("disabled",!t.pidxPaymentForm.valid),s.xp6(2),s.Q6J("ngIf",t.verificationCheck),s.xp6(1),s.Q6J("ngIf",!t.dupverificationCheck))},directives:[G.a8,ie,se.d,U._Y,U.JL,U.sg,oe.KE,re.Nt,U.Fj,U.JJ,U.u,le.lW,n.O5,h.Hw,n.PC],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center}#firstCard[_ngcontent-%COMP%]{width:50%;margin-top:2rem}#firstCard[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:5rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center}#secondCard[_ngcontent-%COMP%]{width:50%;margin-top:1rem}.buttonContainer[_ngcontent-%COMP%]{position:absolute;bottom:40px;right:80px}#checkButton[_ngcontent-%COMP%]{margin-left:15%}@media only screen and (max-width:768px){.container[_ngcontent-%COMP%]   #firstCard[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   #secondCard[_ngcontent-%COMP%]{width:90%}.buttonContainer[_ngcontent-%COMP%]{bottom:60px;right:30px}}"]}),e})(),canActivate:[r]}]}];let me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(ue)],a.Bz]}),e})();var ge=i(7112),pe=i(5425);let fe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez,me,h.Ps,c.SJ,ge.g0,ae,G.QW,se.t,pe.m,le.ot,R,U.UX,oe.lN,re.c,le.ot]]}),e})()},901:(e,t,i)=>{"use strict";i.d(t,{t:()=>o});var n=i(2693),a=i(529),s=i(5366);let o=(()=>{class e{constructor(e){this.http=e,this.backendUrl=a.N.apiUrl+"/payment/",this.headers=new n.WM({"content-type":"application/json"})}performPayment(e){this.http.post(this.backendUrl+"initiate_payment",JSON.stringify(e),{headers:this.headers}).subscribe(e=>{window.open(e.payment_url,"_blank")},e=>{console.log(e)})}verifyPayment(e){console.log(e),this.http.post(this.backendUrl+"lookup_payment",JSON.stringify(e),{headers:this.headers}).subscribe(e=>{console.log(e),this.removeCustomerInfo()},e=>{console.log(e)})}removeCustomerInfo(){localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("phone")}getUserPayments(){return this.http.get(this.backendUrl+"get-payment")}getAdminPaymentsInfo(){return this.http.get(this.backendUrl+"payment-info-admin")}verifyPaymentDriver(e){return this.http.post(this.backendUrl+"payment-verify-driver",JSON.stringify({txnId:e}),{headers:this.headers})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);